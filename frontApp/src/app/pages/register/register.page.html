<ion-content [fullscreen]="true">
  <ion-header>
    <ion-toolbar>
      <ion-title color="primary" size="large">Registro</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content class="ion-padding">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <ion-item>
        <ion-label position="floating">Nombre</ion-label>
        <ion-input formControlName="name" type="text"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.errors?.['required']">
        <ion-note>El nombre no puede estar vacío.</ion-note>
      </ion-text>

      <ion-item>
        <ion-label position="floating">Apellidos</ion-label>
        <ion-input formControlName="surname" type="text"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="registerForm.get('surname')?.touched && registerForm.get('surname')?.errors?.['required']">
        <ion-note>Los apellidos no pueden estar vacíos.</ion-note>
      </ion-text>

      <ion-item>
        <ion-label position="floating">Username</ion-label>
        <ion-input formControlName="username" type="text"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="registerForm.get('username')?.touched && registerForm.get('username')?.errors?.['required']">
        <ion-note>El username no puede estar vacío.</ion-note>
      </ion-text>

      <ion-item>
        <ion-label position="floating">Email</ion-label>
        <ion-input formControlName="email" type="email"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['required']">
        <ion-note>El email no puede estar vacío.</ion-note>
      </ion-text>
      <ion-text color="danger" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['email']">
        <ion-note>El email debe ser válido.</ion-note>
      </ion-text>

      <ion-item>
        <ion-label position="floating">Password</ion-label>
        <ion-input formControlName="password" type="password"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['required']">
        <ion-note>El password no puede estar vacío.</ion-note>
      </ion-text>
      <ion-text color="danger" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['minlength']">
        <ion-note>El password debe tener al menos 5 caracteres.</ion-note>
      </ion-text>

      <ion-item>
        <ion-label position="floating">Repite el Password</ion-label>
        <ion-input formControlName="passwordRepeat" type="password"></ion-input>
      </ion-item>
      <ion-text color="danger" *ngIf="registerForm.get('passwordRepeat')?.touched && registerForm.get('passwordRepeat')?.errors?.['required']">
        <ion-note>El password no puede estar vacío.</ion-note>
      </ion-text>
      <ion-text color="danger" *ngIf="registerForm.get('passwordRepeat')?.touched && registerForm.errors?.['mismatch']">
        <ion-note>Los passwords no coinciden.</ion-note>
      </ion-text>

      <ion-button expand="block" type="submit" [disabled]="registerForm.invalid">Registrarse</ion-button>
    </form>
    <ion-item lines="none" class="register-link">
      <ion-label class="ion-text-center">
        ¿Ya estas registrado? <a [routerLink]="['/login']" class="register-link-text">Logueate aquí</a>
      </ion-label>
    </ion-item>
  </ion-content>
</ion-content>
